(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function n({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}function d({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>i,"CardFooter",()=>d,"CardHeader",()=>r,"CardTitle",()=>n])},50216,e=>{"use strict";var a=e.i(43476);let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var s=e.i(47163);function r({className:e,...r}){return(0,a.jsx)(t,{role:"status","aria-label":"Loading",className:(0,s.cn)("size-4 animate-spin",e),...r})}e.s(["Spinner",()=>r],50216)},99682,e=>{"use strict";var a=e.i(71645);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},27341,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(81140),r=e.i(30030),n=e.i(42727),i=e.i(96626),d=e.i(48425),l=e.i(86318),o=e.i(69340),c=e.i(78203),u="Tabs",[m,p]=(0,r.createContextScope)(u,[n.createRovingFocusGroupScope]),h=(0,n.createRovingFocusGroupScope)(),[x,b]=m(u),g=t.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:n,defaultValue:i,orientation:u="horizontal",dir:m,activationMode:p="automatic",...h}=e,b=(0,l.useDirection)(m),[g,f]=(0,o.useControllableState)({prop:r,onChange:n,defaultProp:i});return(0,a.jsx)(x,{scope:s,baseId:(0,c.useId)(),value:g,onValueChange:f,orientation:u,dir:b,activationMode:p,children:(0,a.jsx)(d.Primitive.div,{dir:b,"data-orientation":u,...h,ref:t})})});g.displayName=u;var f="TabsList",v=t.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...i}=e,l=b(f,s),o=h(s);return(0,a.jsx)(n.Root,{asChild:!0,...o,orientation:l.orientation,dir:l.dir,loop:r,children:(0,a.jsx)(d.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});v.displayName=f;var j="TabsTrigger",y=t.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,disabled:l=!1,...o}=e,c=b(j,r),u=h(r),m=k(c.baseId,i),p=w(c.baseId,i),x=i===c.value;return(0,a.jsx)(n.Item,{asChild:!0,...u,focusable:!l,active:x,children:(0,a.jsx)(d.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":p,"data-state":x?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...o,ref:t,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;x||l||!e||c.onValueChange(i)})})})});y.displayName=j;var N="TabsContent",C=t.forwardRef((e,s)=>{let{__scopeTabs:r,value:n,forceMount:l,children:o,...c}=e,u=b(N,r),m=k(u.baseId,n),p=w(u.baseId,n),h=n===u.value,x=t.useRef(h);return t.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(i.Presence,{present:l||h,children:({present:t})=>(0,a.jsx)(d.Primitive.div,{"data-state":h?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:p,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:x.current?"0s":void 0},children:t&&o})})});function k(e,a){return`${e}-trigger-${a}`}function w(e,a){return`${e}-content-${a}`}C.displayName=N;var S=e.i(47163);function T({className:e,...t}){return(0,a.jsx)(g,{"data-slot":"tabs",className:(0,S.cn)("flex flex-col gap-2",e),...t})}function I({className:e,...t}){return(0,a.jsx)(v,{"data-slot":"tabs-list",className:(0,S.cn)("bg-[#fdfaff] text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function E({className:e,...t}){return(0,a.jsx)(y,{"data-slot":"tabs-trigger",className:(0,S.cn)("data-[state=active]:bg-secondary data-[state=active]:text-primary-foreground dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function L({className:e,...t}){return(0,a.jsx)(C,{"data-slot":"tabs-content",className:(0,S.cn)("flex-1 outline-none",e),...t})}e.s(["Tabs",()=>T,"TabsContent",()=>L,"TabsList",()=>I,"TabsTrigger",()=>E],27341)},65349,e=>{"use strict";var a=e.i(43476),t=e.i(27341),s=e.i(70065),r=e.i(23750),n=e.i(10708),i=e.i(67881),d=e.i(71645);e.i(71470);var l=e.i(41721),o=e.i(41019),c=e.i(50216),u=e.i(81140),m=e.i(20783),p=e.i(30030),h=e.i(69340),x=e.i(99682),b=e.i(35804),g=e.i(48425),f="Switch",[v,j]=(0,p.createContextScope)(f),[y,N]=v(f),C=d.forwardRef((e,t)=>{let{__scopeSwitch:s,name:r,checked:n,defaultChecked:i,required:l,disabled:o,value:c="on",onCheckedChange:p,form:x,...b}=e,[f,v]=d.useState(null),j=(0,m.useComposedRefs)(t,e=>v(e)),N=d.useRef(!1),C=!f||x||!!f.closest("form"),[k=!1,w]=(0,h.useControllableState)({prop:n,defaultProp:i,onChange:p});return(0,a.jsxs)(y,{scope:s,checked:k,disabled:o,children:[(0,a.jsx)(g.Primitive.button,{type:"button",role:"switch","aria-checked":k,"aria-required":l,"data-state":T(k),"data-disabled":o?"":void 0,disabled:o,value:c,...b,ref:j,onClick:(0,u.composeEventHandlers)(e.onClick,e=>{w(e=>!e),C&&(N.current=e.isPropagationStopped(),N.current||e.stopPropagation())})}),C&&(0,a.jsx)(S,{control:f,bubbles:!N.current,name:r,value:c,checked:k,required:l,disabled:o,form:x,style:{transform:"translateX(-100%)"}})]})});C.displayName=f;var k="SwitchThumb",w=d.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,n=N(k,s);return(0,a.jsx)(g.Primitive.span,{"data-state":T(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});w.displayName=k;var S=e=>{let{control:t,checked:s,bubbles:r=!0,...n}=e,i=d.useRef(null),l=(0,x.usePrevious)(s),o=(0,b.useSize)(t);return d.useEffect(()=>{let e=i.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(l!==s&&a){let t=new Event("click",{bubbles:r});a.call(e,s),e.dispatchEvent(t)}},[l,s,r]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:i,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function T(e){return e?"checked":"unchecked"}var I=e.i(47163);function E({className:e,...t}){return(0,a.jsx)(C,{"data-slot":"switch",className:(0,I.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(w,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}var L=e.i(46696);let P=(0,l.observer)(()=>{let{shopStore:e}=(0,o.useStore)(),[t,l]=(0,d.useState)(!1),[u,m]=(0,d.useState)({shopName:e.shop?.shopName??"",phone:e.shop?.phone??"",address:e.shop?.address??"",upiId:e.shop?.upiId??""}),[p,h]=(0,d.useState)(!1),x=e=>{let{name:a,value:t}=e.target;m(e=>({...e,[a]:t}))},b=async()=>{(await e.updateShopDetails(u),e.error)?L.toast.error(e.error):L.toast.success("Data has been update successfully.")};return((0,d.useEffect)(()=>{h(!0)},[]),p)?(0,a.jsxs)(s.Card,{className:"bg-background border-0 max-w-4xl w-full",children:[(0,a.jsxs)(s.CardHeader,{className:"flex justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)(s.CardTitle,{className:"text-primary",children:"Shop Details"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Shop Id: ",(0,a.jsx)("span",{className:"text-primary font-semibold",children:e.shop?.id})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.Label,{htmlFor:"enable-editing",className:"text-dark-text",children:"Enable Editing"}),(0,a.jsx)(E,{checked:t,onCheckedChange:l,id:"enable-editing"})]})]}),(0,a.jsxs)(s.CardContent,{className:"grid gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"mb-1",children:"Shop Name"}),(0,a.jsx)(r.Input,{value:u.shopName,disabled:!t,name:"shopName",onChange:x,className:"capitalize text-dark-text disabled:opacity-100  disabled:bg-light-shade/40"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"mb-1",children:"Business Type"}),(0,a.jsx)(r.Input,{value:e.shop?.businessType??"",readOnly:!0,className:" cursor-not-allowed capitalize text-dark bg-light-shade/40"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"mb-1",children:"Phone"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex items-center px-3 rounded-l-md border border-r-0 text-sm text-muted-foreground bg-muted",children:"+91"}),(0,a.jsx)(r.Input,{type:"tel",value:u.phone,name:"phone",maxLength:10,disabled:!t,placeholder:"Enter 10-digit number",className:"rounded-l-none text-dark-text disabled:opacity-100  disabled:bg-light-shade/40",onChange:e=>{x({target:{name:"phone",value:e.target.value.replace(/\D/g,"")}})}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"mb-1",children:"Address"}),(0,a.jsx)(r.Input,{value:u.address,name:"address",onChange:x,disabled:!t,className:"capitalize text-dark-text disabled:opacity-100  disabled:bg-light-shade/40"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"mb-1",children:"Upi Id"}),(0,a.jsx)(r.Input,{value:u.upiId,name:"upiId",onChange:x,disabled:!t,className:"text-dark-text disabled:opacity-100  disabled:bg-light-shade/40"})]}),(0,a.jsx)(i.Button,{onClick:b,className:"w-[25%] hover:cursor-pointer",disabled:e.loading||!t,children:e.loading?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Spinner,{})," Saving..."]}):"Save"})]})]}):null});var R=e.i(69035);let D=(0,l.observer)(()=>{let{shopStore:e}=(0,o.useStore)(),[t,l]=(0,d.useState)(!1),[u,m]=(0,d.useState)({targetStamps:e.shop?.targetStamps??"",reward:e.shop?.reward??"",minAmount:e.shop?.minAmount??""}),p=e=>{let{name:a,value:t}=e.target;m(e=>({...e,[a]:t}))},h=async(a=!1)=>{(await e.updateShopDetails(u,a),e.error)?L.toast.error(e.error):a?e.shop?.loyaltyEnabled==!0?L.toast.success("Your loyalty program has been enabled."):L.toast.success("Your loyalty program has been paused."):L.toast.success("Data has been update successfully.")};return(0,a.jsxs)(s.Card,{className:"bg-background border-0 max-w-4xl w-full",children:[(0,a.jsxs)(s.CardHeader,{className:"flex justify-between",children:[(0,a.jsx)(s.CardTitle,{className:"text-primary",children:"Loyalty Rules"}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(n.Label,{htmlFor:"enable-editing",className:"text-dark-text",children:"Enable Editing"}),(0,a.jsx)(E,{checked:t,onCheckedChange:l,id:"enable-editing"})]})]}),(0,a.jsxs)(s.CardContent,{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{children:"Enable Loyalty Program"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Turn off to pause stamps and rewards for customers"})]}),e.loading?(0,a.jsx)(c.Spinner,{}):(0,a.jsx)(E,{checked:e.shop?.loyaltyEnabled??!0,onCheckedChange:()=>h(!0)})]}),(0,a.jsx)(R.Separator,{className:"bg-gray-300"}),(0,a.jsxs)("div",{className:"mt-7",children:[(0,a.jsx)(n.Label,{className:"mb-1",children:"Target Stamps"}),(0,a.jsx)(r.Input,{type:"number",name:"targetStamps",value:u.targetStamps,onChange:p,disabled:!t,className:"text-dark-text disabled:opacity-100  disabled:bg-light-shade/40"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"mb-1",children:"Minimum Payment Amount"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex items-center px-3 rounded-l-md border border-r-0 bg-muted text-sm text-muted-foreground",children:"â‚¹"}),(0,a.jsx)(r.Input,{type:"number",name:"minAmount",value:u.minAmount,placeholder:"0",className:"rounded-l-none text-dark-text disabled:opacity-100  disabled:bg-light-shade/40",disabled:!t,onChange:e=>{p({target:{name:"minAmount",value:e.target.value}})}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(n.Label,{className:"mb-1",children:"Reward Description"}),(0,a.jsx)(r.Input,{value:u.reward,name:"reward",onChange:p,disabled:!t,className:"capitalize text-dark-text disabled:opacity-100  disabled:bg-light-shade/40"})]}),(0,a.jsx)(i.Button,{className:"w-[25%] hover:cursor-pointer",onClick:()=>h(),disabled:e.loading||!t,children:e.loading?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Spinner,{})," Saving..."]}):"Save"})]})]})});function z(){return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(t.Tabs,{defaultValue:"shop",className:"w-full gap-6",children:[(0,a.jsxs)(t.TabsList,{className:"grid grid-cols-2 w-full",children:[(0,a.jsx)(t.TabsTrigger,{value:"shop",children:"Shop"}),(0,a.jsx)(t.TabsTrigger,{value:"loyalty",children:"Loyalty"})]}),(0,a.jsx)(t.TabsContent,{value:"shop",className:"flex justify-center",children:(0,a.jsx)(P,{})}),(0,a.jsx)(t.TabsContent,{value:"loyalty",className:"flex justify-center",children:(0,a.jsx)(D,{})})]})})}e.s(["default",()=>z],65349)}]);