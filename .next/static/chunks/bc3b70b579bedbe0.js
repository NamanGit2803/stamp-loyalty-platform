(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var s=e.i(43476),a=e.i(47163);function t({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function r({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function d({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...t})}function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",e),...t})}e.s(["Card",()=>t,"CardContent",()=>l,"CardFooter",()=>n,"CardHeader",()=>r,"CardTitle",()=>d])},7232,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(70065),r=e.i(71428);function d({label:e,value:a,Icon:d,trend:l,trendValue:n,loading:c}){return(0,s.jsxs)(t.Card,{className:"card",children:[(0,s.jsxs)(t.CardHeader,{className:"flex flex-row items-center justify-between p-0",children:[(0,s.jsx)("div",{className:"bg-primary p-2 rounded-lg",children:(0,s.jsx)(d,{className:"size-5 text-white"})}),(0,s.jsx)(t.CardTitle,{className:"text-2xl font-semibold text-dark-text",children:c?(0,s.jsx)(r.Skeleton,{className:"h-12 w-12 rounded-md bg-skeleton-color"}):a})]}),(0,s.jsxs)(t.CardContent,{className:"p-0 mt-3",children:[(0,s.jsx)("p",{className:"text-sm text-primary font-semibold",children:e}),(0,s.jsx)("p",{className:"text-xs text-secondary",children:"This Month"})]})]})}e.i(71470);var l=e.i(41721),n=e.i(41019),c=e.i(75254);let i=(0,c.default)("indian-rupee",[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]]),m=(0,c.default)("ticket-percent",[["path",{d:"M2 9a3 3 0 1 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 1 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"1l48ns"}],["path",{d:"M9 9h.01",key:"1q5me6"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M15 15h.01",key:"lqbp3k"}]]);var o=e.i(30699);let x=(0,c.default)("repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);var p=e.i(18566),h=e.i(67881),u=e.i(76838);let f=(0,c.default)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var g=e.i(23962);let j=({shop:e})=>{let a=(0,p.useRouter)();return(0,s.jsxs)(t.Card,{className:"card",children:[(0,s.jsxs)(t.CardHeader,{className:"flex flex-row items-center justify-between p-0 gap-3",children:[(0,s.jsxs)(t.CardTitle,{className:"text-xl font-semibold flex items-center gap-2 text-primary",children:[(0,s.jsx)(u.BadgeCheck,{className:"size-5 text-primary"}),"Shop Settings Overview"]}),(0,s.jsx)(h.Button,{disabled:!e,onClick:()=>a.push(`/shop/${e.id}/settings`),size:"sm",className:"hover:cursor-pointer",children:"Update"})]}),(0,s.jsxs)(t.CardContent,{className:"flex flex-col sm:grid grid-cols-2 gap-4 sm:gap-6 sm:gap-x-8 p-0",children:[(0,s.jsxs)("div",{className:"p-4 bg-background rounded-xl shadow-sm flex items-center gap-3",children:[(0,s.jsx)(f,{className:"size-6 text-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Target Stamps"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-dark-text",children:e?.targetStamps||"none"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-background rounded-xl shadow-sm flex items-center gap-3",children:[(0,s.jsx)(i,{className:"size-6 text-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Minimum Amount"}),(0,s.jsxs)("p",{className:"text-sm font-semibold text-dark-text",children:["₹",e?.minAmount||0]})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-background rounded-xl shadow-sm flex items-center gap-3",children:[(0,s.jsx)(o.Gift,{className:"size-6 text-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Reward"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-dark-text capitalize",children:e?.reward||"reward"})]})]}),(0,s.jsxs)("div",{className:"p-4 bg-background rounded-xl shadow-sm flex items-center gap-3",children:[(0,s.jsx)(g.QrCode,{className:"size-6 text-primary"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"UPI ID"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-dark-text",children:e?.upiId||"none"})]})]})]})]})},N=(0,c.default)("user-star",[["path",{d:"M16.051 12.616a1 1 0 0 1 1.909.024l.737 1.452a1 1 0 0 0 .737.535l1.634.256a1 1 0 0 1 .588 1.806l-1.172 1.168a1 1 0 0 0-.282.866l.259 1.613a1 1 0 0 1-1.541 1.134l-1.465-.75a1 1 0 0 0-.912 0l-1.465.75a1 1 0 0 1-1.539-1.133l.258-1.613a1 1 0 0 0-.282-.866l-1.156-1.153a1 1 0 0 1 .572-1.822l1.633-.256a1 1 0 0 0 .737-.535z",key:"1m8t9f"}],["path",{d:"M8 15H7a4 4 0 0 0-4 4v2",key:"l9tmp8"}],["circle",{cx:"10",cy:"7",r:"4",key:"e45bow"}]]);function b({bestCustomers:e,loading:a}){return(0,s.jsxs)(t.Card,{className:"card w-full",children:[(0,s.jsx)(t.CardHeader,{className:"p-0",children:(0,s.jsxs)(t.CardTitle,{className:"text-xl font-semibold text-primary flex gap-2 items-center",children:[(0,s.jsx)(N,{className:"text-primary size-5"}),"Best Customers"]})}),(0,s.jsxs)(t.CardContent,{className:"space-y-4 p-0",children:[a&&(0,s.jsx)("div",{className:"flex flex-col gap-4",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-2 bg-muted-foreground/5 rounded-md",children:[(0,s.jsx)(r.Skeleton,{className:"h-12 w-12 rounded-full bg-skeleton-color"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-4 w-[250px] bg-skeleton-color"}),(0,s.jsx)(r.Skeleton,{className:"h-4 w-[200px] bg-skeleton-color"})]})]},e))}),!a&&(!e||0===e.length)&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No customers yet"}),!a&&e?.map((e,a)=>(0,s.jsx)("div",{className:"flex items-center justify-between shadow-sm rounded-lg border border-primary/20 p-3 bg-background/40 hover:bg-muted/40 transition",children:(0,s.jsxs)("div",{className:"flex items-center gap-5 sm:gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-semibold",children:e.name?e.name[0]:""}),(0,s.jsxs)("div",{className:"space-y-1.5 sm:space-y-1",children:[(0,s.jsxs)("p",{className:"font-medium text-dark-text flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[a+1,". ",e.name,(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(ID: ",(0,s.jsx)("span",{className:"text-primary",children:e.id}),")"]})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.totalStampCount," stamps · ",e.totalVisits," visits"]})]})]})},e.id))]})]})}let y=(0,c.default)("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);function v({closeToReward:e,targetStamps:a,loading:d}){return(0,s.jsxs)(t.Card,{className:"w-full card",children:[(0,s.jsx)(t.CardHeader,{className:"p-0",children:(0,s.jsxs)(t.CardTitle,{className:"text-xl font-semibold flex items-center gap-2 text-primary",children:[(0,s.jsx)(y,{className:"size-5 text-primary "}),"Close to Reward"]})}),(0,s.jsxs)(t.CardContent,{className:"space-y-4 p-0",children:[d&&(0,s.jsx)("div",{className:"flex flex-col gap-4",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-4 p-2 bg-muted-foreground/5 rounded-md",children:[(0,s.jsx)(r.Skeleton,{className:"h-12 w-12 rounded-full bg-skeleton-color"}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(r.Skeleton,{className:"h-4 w-[250px] bg-skeleton-color"}),(0,s.jsx)(r.Skeleton,{className:"h-4 w-[200px] bg-skeleton-color"})]})]},e))}),!d&&(!e||0===e.length)&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-2",children:"No customers yet"}),!d&&e?.map((e,t)=>{let r=a-e.stampCount;return(0,s.jsx)("div",{className:"flex items-center justify-between shadow-sm rounded-lg border border-primary/20 p-3 bg-background/40 hover:bg-muted/40 transition",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 rounded-full bg-primary/10 text-primary flex items-center justify-center text-xs font-semibold",children:e.name?e.name[0]:""}),(0,s.jsxs)("div",{className:"space-y-1.5 sm:space-y-1",children:[(0,s.jsxs)("p",{className:"font-medium text-dark-text flex flex-col sm:flex-row sm:items-center sm:gap-2",children:[t+1,". ",e.name,(0,s.jsxs)("span",{className:"text-xs text-muted-foreground",children:["(ID: ",(0,s.jsx)("span",{className:"text-primary",children:e.id}),")"]})]}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.stampCount," / ",a," stamps ·"," ",1===r?"1 stamp left":`${r} stamps left`]})]})]})},e.id)})]})]})}let k=(0,l.observer)(()=>{let{shopStore:e,userStore:t}=(0,n.useStore)(),[r,l]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{l(!0)},[]),(0,a.useEffect)(()=>{e.shop?.id&&!e.dashboardStats&&e.fetchDashboardStats()},[e.shop?.id]),!r)return(0,s.jsx)("div",{className:"space-y-8",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-secondary",children:"Welcome Back,"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Here's what's happening in your shop today"})]})});let c=[{label:"Revenue",value:e.dashboardStats?.revenue?`₹${Intl.NumberFormat("en-IN").format(e.dashboardStats.revenue)}`:"₹0",Icon:i,trend:"up",trendValue:"+12%"},{label:"Stamps Given",value:e.dashboardStats?.stampsGiven||0,Icon:m,trend:"up",trendValue:"+18%"},{label:"Rewards Redeemed",value:e.dashboardStats?.rewardsRedeemed||0,Icon:o.Gift,trend:"up",trendValue:"+6%"},{label:"Repeat Customer Rate",value:e.dashboardStats?.repeatRate+"%",Icon:x,trend:"up",trendValue:"+4%"}];return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-secondary",children:["Welcome Back, ",t.user?.name]}),(0,s.jsx)("p",{className:"text-muted-foreground mt-1",children:"Here's what's happening in your shop today"})]}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:c.map(a=>(0,s.jsx)(d,{...a,loading:e.loading},a.label))}),(0,s.jsx)(j,{shop:e.shop}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-5",children:[(0,s.jsx)(b,{bestCustomers:e.dashboardStats?.bestCustomers,loading:e.loading}),(0,s.jsx)(v,{closeToReward:e.dashboardStats?.closeToReward,targetStamps:e.shop?.targetStamps,loading:e.loading})]})]})});e.s(["default",0,k],7232)}]);