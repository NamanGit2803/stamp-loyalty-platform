(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70065,e=>{"use strict";var a=e.i(43476),t=e.i(47163);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function r({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function n({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}function o({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"card-footer",className:(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>i,"CardFooter",()=>o,"CardHeader",()=>r,"CardTitle",()=>n])},50216,e=>{"use strict";var a=e.i(43476);let t=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var s=e.i(47163);function r({className:e,...r}){return(0,a.jsx)(t,{role:"status","aria-label":"Loading",className:(0,s.cn)("size-4 animate-spin",e),...r})}e.s(["Spinner",()=>r],50216)},99682,e=>{"use strict";var a=e.i(71645);function t(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}e.s(["usePrevious",()=>t])},19036,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(81140),r=e.i(20783),n=e.i(30030),i=e.i(69340),o=e.i(99682),l=e.i(35804),d=e.i(48425),c="Switch",[u,m]=(0,n.createContextScope)(c),[p,x]=u(c),h=t.forwardRef((e,n)=>{let{__scopeSwitch:o,name:l,checked:c,defaultChecked:u,required:m,disabled:x,value:h="on",onCheckedChange:b,form:v,...j}=e,[y,N]=t.useState(null),w=(0,r.useComposedRefs)(n,e=>N(e)),C=t.useRef(!1),S=!y||v||!!y.closest("form"),[T=!1,k]=(0,i.useControllableState)({prop:c,defaultProp:u,onChange:b});return(0,a.jsxs)(p,{scope:o,checked:T,disabled:x,children:[(0,a.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":T,"aria-required":m,"data-state":f(T),"data-disabled":x?"":void 0,disabled:x,value:h,...j,ref:w,onClick:(0,s.composeEventHandlers)(e.onClick,e=>{k(e=>!e),S&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),S&&(0,a.jsx)(g,{control:y,bubbles:!C.current,name:l,value:h,checked:T,required:m,disabled:x,form:v,style:{transform:"translateX(-100%)"}})]})});h.displayName=c;var b="SwitchThumb",v=t.forwardRef((e,t)=>{let{__scopeSwitch:s,...r}=e,n=x(b,s);return(0,a.jsx)(d.Primitive.span,{"data-state":f(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:t})});v.displayName=b;var g=e=>{let{control:s,checked:r,bubbles:n=!0,...i}=e,d=t.useRef(null),c=(0,o.usePrevious)(r),u=(0,l.useSize)(s);return t.useEffect(()=>{let e=d.current,a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&a){let t=new Event("click",{bubbles:n});a.call(e,r),e.dispatchEvent(t)}},[c,r,n]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:d,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function f(e){return e?"checked":"unchecked"}var j=e.i(47163);function y({className:e,...t}){return(0,a.jsx)(h,{"data-slot":"switch",className:(0,j.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(v,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>y],19036)},27341,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(81140),r=e.i(30030),n=e.i(42727),i=e.i(96626),o=e.i(48425),l=e.i(86318),d=e.i(69340),c=e.i(10772),u="Tabs",[m,p]=(0,r.createContextScope)(u,[n.createRovingFocusGroupScope]),x=(0,n.createRovingFocusGroupScope)(),[h,b]=m(u),v=t.forwardRef((e,t)=>{let{__scopeTabs:s,value:r,onValueChange:n,defaultValue:i,orientation:u="horizontal",dir:m,activationMode:p="automatic",...x}=e,b=(0,l.useDirection)(m),[v,g]=(0,d.useControllableState)({prop:r,onChange:n,defaultProp:i});return(0,a.jsx)(h,{scope:s,baseId:(0,c.useId)(),value:v,onValueChange:g,orientation:u,dir:b,activationMode:p,children:(0,a.jsx)(o.Primitive.div,{dir:b,"data-orientation":u,...x,ref:t})})});v.displayName=u;var g="TabsList",f=t.forwardRef((e,t)=>{let{__scopeTabs:s,loop:r=!0,...i}=e,l=b(g,s),d=x(s);return(0,a.jsx)(n.Root,{asChild:!0,...d,orientation:l.orientation,dir:l.dir,loop:r,children:(0,a.jsx)(o.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});f.displayName=g;var j="TabsTrigger",y=t.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,disabled:l=!1,...d}=e,c=b(j,r),u=x(r),m=C(c.baseId,i),p=S(c.baseId,i),h=i===c.value;return(0,a.jsx)(n.Item,{asChild:!0,...u,focusable:!l,active:h,children:(0,a.jsx)(o.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:m,...d,ref:t,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(i)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(i)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||l||!e||c.onValueChange(i)})})})});y.displayName=j;var N="TabsContent",w=t.forwardRef((e,s)=>{let{__scopeTabs:r,value:n,forceMount:l,children:d,...c}=e,u=b(N,r),m=C(u.baseId,n),p=S(u.baseId,n),x=n===u.value,h=t.useRef(x);return t.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(i.Presence,{present:l||x,children:({present:t})=>(0,a.jsx)(o.Primitive.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:p,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:h.current?"0s":void 0},children:t&&d})})});function C(e,a){return`${e}-trigger-${a}`}function S(e,a){return`${e}-content-${a}`}w.displayName=N;var T=e.i(47163);function k({className:e,...t}){return(0,a.jsx)(v,{"data-slot":"tabs",className:(0,T.cn)("flex flex-col gap-2",e),...t})}function I({className:e,...t}){return(0,a.jsx)(f,{"data-slot":"tabs-list",className:(0,T.cn)("bg-[#fdfaff] text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function P({className:e,...t}){return(0,a.jsx)(y,{"data-slot":"tabs-trigger",className:(0,T.cn)("data-[state=active]:bg-secondary data-[state=active]:text-primary-foreground dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function L({className:e,...t}){return(0,a.jsx)(w,{"data-slot":"tabs-content",className:(0,T.cn)("flex-1 outline-none",e),...t})}e.s(["Tabs",()=>k,"TabsContent",()=>L,"TabsList",()=>I,"TabsTrigger",()=>P],27341)},65349,e=>{"use strict";var a=e.i(43476),t=e.i(27341),s=e.i(71645),r=e.i(70065),n=e.i(23750),i=e.i(10708),o=e.i(67881);e.i(71470);var l=e.i(41721),d=e.i(41019),c=e.i(50216);let u=(0,l.observer)(()=>{let{userStore:e,shopStore:t}=(0,d.useStore)(),[l,u]=(0,s.useState)({shopName:t.shop?.shopName??"",phone:t.shop?.phone??"",address:t.shop?.address??"",upiId:t.shop?.upiId??""}),[m,p]=(0,s.useState)(!1),x=e=>{let{name:a,value:t}=e.target;u(e=>({...e,[a]:t}))};return((0,s.useEffect)(()=>{p(!0)},[]),m)?(0,a.jsxs)(r.Card,{className:"bg-background border-0 max-w-4xl w-full",children:[(0,a.jsxs)(r.CardHeader,{className:"flex justify-between",children:[(0,a.jsx)(r.CardTitle,{className:"text-primary",children:"Shop Details"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Shop Id: ",(0,a.jsx)("span",{className:"text-primary font-semibold",children:t.shop?.id})]})]}),(0,a.jsxs)(r.CardContent,{className:"grid gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Shop Name"}),(0,a.jsx)(n.Input,{value:l.shopName,name:"shopName",onChange:x,className:"capitalize"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Business Type"}),(0,a.jsx)(n.Input,{value:t.shop?.businessType??"",readOnly:!0,className:" cursor-not-allowed capitalize"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Phone"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex items-center px-3 rounded-l-md border border-r-0 text-sm text-muted-foreground bg-muted",children:"+91"}),(0,a.jsx)(n.Input,{type:"tel",value:l.phone,name:"phone",maxLength:10,placeholder:"Enter 10-digit number",className:"rounded-l-none",onChange:e=>{x({target:{name:"phone",value:e.target.value.replace(/\D/g,"")}})}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Address"}),(0,a.jsx)(n.Input,{value:l.address,name:"address",onChange:x})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Upi Id"}),(0,a.jsx)(n.Input,{value:l.upiId,name:"upiId",onChange:x})]}),(0,a.jsx)(o.Button,{className:"w-[25%] hover:cursor-pointer",disabled:t.loading,children:t.loading?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Spinner,{})," Saving..."]}):"Save"})]})]}):null});var m=e.i(19036),p=e.i(69035);let x=(0,l.observer)(()=>{let{userStore:e,shopStore:t}=(0,d.useStore)(),[l,u]=(0,s.useState)({targetStamps:t.shop?.targetStamps??"",reward:t.shop?.reward??"",maxStampsPerDay:t.shop?.maxStampsPerCustomerPerDay??"",minAmount:t.shop?.minAmount??""}),x=e=>{let{name:a,value:t}=e.target;setShopSettings(e=>({...e,[a]:t}))};return(0,a.jsxs)(r.Card,{className:"bg-background border-0 max-w-4xl w-full",children:[(0,a.jsx)(r.CardHeader,{children:(0,a.jsx)(r.CardTitle,{className:"text-primary",children:"Loyalty Rules"})}),(0,a.jsxs)(r.CardContent,{className:"grid gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{children:"Enable Loyalty Program"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Turn off to pause stamps and rewards for customers"})]}),(0,a.jsx)(m.Switch,{checked:t.shop?.loyaltyEnabled??!0})]}),(0,a.jsx)(p.Separator,{className:"bg-gray-300"}),(0,a.jsxs)("div",{className:"mt-7",children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Target Stamps"}),(0,a.jsx)(n.Input,{type:"number",name:"targetStamps",value:l.targetStamps,onChange:x})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Minimum Payment Amount"}),(0,a.jsxs)("div",{className:"flex",children:[(0,a.jsx)("div",{className:"flex items-center px-3 rounded-l-md border border-r-0 bg-muted text-sm text-muted-foreground",children:"â‚¹"}),(0,a.jsx)(n.Input,{type:"number",name:"minAmount",value:l.minAmount,placeholder:"0",className:"rounded-l-none",onChange:e=>{x({target:{name:"minAmount",value:e.target.value}})}})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Reward Description"}),(0,a.jsx)(n.Input,{value:l.reward,name:"reward",className:"capitalize",onChange:x})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Label,{className:"mb-1",children:"Max Stamps per Customer / Day"}),(0,a.jsx)(n.Input,{type:"number",name:"maxStampsPerDay",value:l.maxStampsPerDay,onChange:x})]}),(0,a.jsx)(o.Button,{className:"w-[25%] hover:cursor-pointer",disabled:t.loading,children:t.loading?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.Spinner,{})," Saving..."]}):"Save"})]})]})});function h(){return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(t.Tabs,{defaultValue:"shop",className:"w-full gap-6",children:[(0,a.jsxs)(t.TabsList,{className:"grid grid-cols-4 w-full",children:[(0,a.jsx)(t.TabsTrigger,{value:"shop",children:"Shop"}),(0,a.jsx)(t.TabsTrigger,{value:"loyalty",children:"Loyalty"}),(0,a.jsx)(t.TabsTrigger,{value:"security",children:"Security"}),(0,a.jsx)(t.TabsTrigger,{value:"billing",children:"Billing"})]}),(0,a.jsx)(t.TabsContent,{value:"shop",className:"flex justify-center",children:(0,a.jsx)(u,{})}),(0,a.jsx)(t.TabsContent,{value:"loyalty",className:"flex justify-center",children:(0,a.jsx)(x,{})})]})})}e.s(["default",()=>h],65349)}]);