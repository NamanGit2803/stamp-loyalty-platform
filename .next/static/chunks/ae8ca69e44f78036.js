(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,99682,e=>{"use strict";var r=e.i(71645);function s(e){let s=r.useRef({value:e,previous:e});return r.useMemo(()=>(s.current.value!==e&&(s.current.previous=s.current.value,s.current.value=e),s.current.previous),[e])}e.s(["usePrevious",()=>s])},86536,e=>{"use strict";let r=(0,e.i(75254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>r],86536)},70065,e=>{"use strict";var r=e.i(43476),s=e.i(47163);function a({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function t({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function n({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...a})}function i({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("px-6",e),...a})}function c({className:e,...a}){return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center px-6 [.border-t]:pt-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>i,"CardFooter",()=>c,"CardHeader",()=>t,"CardTitle",()=>n])},50216,e=>{"use strict";var r=e.i(43476);let s=(0,e.i(75254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var a=e.i(47163);function t({className:e,...t}){return(0,r.jsx)(s,{role:"status","aria-label":"Loading",className:(0,a.cn)("size-4 animate-spin",e),...t})}e.s(["Spinner",()=>t],50216)},82458,e=>{"use strict";let r=(0,e.i(75254).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["default",()=>r])},77705,89128,e=>{"use strict";let r=(0,e.i(75254).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>r],77705);var s=e.i(82458);e.s(["TriangleAlert",()=>s.default],89128)},19036,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(81140),t=e.i(20783),n=e.i(30030),i=e.i(69340),c=e.i(99682),l=e.i(35804),d=e.i(48425),o="Switch",[u,m]=(0,n.createContextScope)(o),[h,x]=u(o),p=s.forwardRef((e,n)=>{let{__scopeSwitch:c,name:l,checked:o,defaultChecked:u,required:m,disabled:x,value:p="on",onCheckedChange:f,form:j,...b}=e,[y,v]=s.useState(null),N=(0,t.useComposedRefs)(n,e=>v(e)),C=s.useRef(!1),k=!y||j||!!y.closest("form"),[S=!1,P]=(0,i.useControllableState)({prop:o,defaultProp:u,onChange:f});return(0,r.jsxs)(h,{scope:c,checked:S,disabled:x,children:[(0,r.jsx)(d.Primitive.button,{type:"button",role:"switch","aria-checked":S,"aria-required":m,"data-state":g(S),"data-disabled":x?"":void 0,disabled:x,value:p,...b,ref:N,onClick:(0,a.composeEventHandlers)(e.onClick,e=>{P(e=>!e),k&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})}),k&&(0,r.jsx)(w,{control:y,bubbles:!C.current,name:l,value:p,checked:S,required:m,disabled:x,form:j,style:{transform:"translateX(-100%)"}})]})});p.displayName=o;var f="SwitchThumb",j=s.forwardRef((e,s)=>{let{__scopeSwitch:a,...t}=e,n=x(f,a);return(0,r.jsx)(d.Primitive.span,{"data-state":g(n.checked),"data-disabled":n.disabled?"":void 0,...t,ref:s})});j.displayName=f;var w=e=>{let{control:a,checked:t,bubbles:n=!0,...i}=e,d=s.useRef(null),o=(0,c.usePrevious)(t),u=(0,l.useSize)(a);return s.useEffect(()=>{let e=d.current,r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(o!==t&&r){let s=new Event("click",{bubbles:n});r.call(e,t),e.dispatchEvent(s)}},[o,t,n]),(0,r.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:t,...i,tabIndex:-1,ref:d,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function g(e){return e?"checked":"unchecked"}var b=e.i(47163);function y({className:e,...s}){return(0,r.jsx)(p,{"data-slot":"switch",className:(0,b.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:(0,r.jsx)(j,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}e.s(["Switch",()=>y],19036)},67628,e=>{"use strict";var r=e.i(43476),s=e.i(71645),a=e.i(70065),t=e.i(23750),n=e.i(10708),i=e.i(67881);e.i(19036),e.i(71470);var c=e.i(41721),l=e.i(41019),d=e.i(50216),o=e.i(46696),u=e.i(75254);let m=(0,u.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),h=(0,c.observer)(()=>{let{shopStore:e,userStore:c}=(0,l.useStore)(),[u,h]=(0,s.useState)("");(0,s.useEffect)(()=>{c.user?.name&&h(c.user.name)},[c.user?.name]);let x=async()=>{await c.updateProfile({name:u}),c.error?o.toast.error(c.error):o.toast.success("Name has been updated successfully.")};return(0,r.jsxs)(a.Card,{children:[(0,r.jsxs)(a.CardHeader,{className:"flex gap-2 items-center",children:[(0,r.jsx)(m,{className:"text-primary size-5"}),(0,r.jsx)(a.CardTitle,{className:"text-primary",children:"Profile"})]}),(0,r.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{className:"mb-1",children:"Name"}),(0,r.jsx)(t.Input,{value:u,onChange:e=>h(e.target.value)})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{className:"mb-1",children:"Email"}),(0,r.jsx)(t.Input,{value:c.user?.email??"",disabled:!0}),(0,r.jsx)("p",{className:"text-sm mt-1 text-muted-foreground",children:"Email cannot be changed"})]}),(0,r.jsx)(i.Button,{disabled:c.loading||c.user?.name===u,onClick:x,className:"w-[20%] hover:cursor-pointer",children:c.loading?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Spinner,{})," Saving Changes..."]}):"Save Changes"})]})]})});var x=e.i(69035),p=e.i(30374),f=e.i(86536),j=e.i(77705),w=e.i(89128);let g=(0,c.observer)(()=>{let{shopStore:e,userStore:a}=(0,l.useStore)(),[c,u]=(0,s.useState)(!1),[m,h]=(0,s.useState)({current:"",new:"",confirm:""}),[x,g]=(0,s.useState)({}),[b,y]=(0,s.useState)({current:!1,new:!1,confirm:!1}),v=e=>{let{name:r,value:s}=e.target;h(e=>({...e,[r]:s})),x[r]&&g(e=>({...e,[r]:""}))},N=()=>{h({current:"",new:"",confirm:""}),y({current:!1,new:!1,confirm:!1})},C=async()=>{let e,r=(e={},m.current.trim()||(e.current="Current password is required"),m.new.trim()||(e.new="New password is required"),m.confirm.trim()||(e.confirm="Confirm password is required"),m.new.trim().length<6&&(e.new="Password must be 6+ characters"),m.confirm.trim().length>0&&m.new!==m.confirm&&(e.confirm="New and confirm passwords do not match."),e);Object.keys(r).length>0?g(r):(await a.updateProfile({currentPassword:m.current,newPassword:m.new}),a.error?o.toast.error(a.error):(o.toast.success("Password updated successfully."),N(),u(!1)))},k=e=>{y(r=>({...r,[e]:!r[e]}))};return(0,r.jsxs)(p.Dialog,{open:c,onOpenChange:e=>{u(e),e||N()},children:[(0,r.jsx)(p.DialogTrigger,{asChild:!0,children:(0,r.jsx)(i.Button,{size:"sm",variant:"outline",children:"Change Password"})}),(0,r.jsxs)(p.DialogContent,{children:[(0,r.jsxs)(p.DialogHeader,{children:[(0,r.jsx)(p.DialogTitle,{children:"Change Password"}),(0,r.jsx)(p.DialogDescription,{children:"Enter your current password and set a new one"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(n.Label,{htmlFor:"current-password",children:"Current Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(t.Input,{id:"current-password",type:b.current?"text":"password",value:m.current,name:"current",onChange:v,className:x.current?"border-red-500 pr-10":"border-border"}),(0,r.jsx)("button",{type:"button",onClick:()=>k("current"),className:"absolute inset-y-0 right-3 flex items-center text-gray-500",children:b.current?(0,r.jsx)(j.EyeOff,{className:"w-4 h-4"}):(0,r.jsx)(f.Eye,{className:"w-4 h-4"})})]}),x.current&&(0,r.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,r.jsx)(w.TriangleAlert,{className:"h-3 w-3"})," ",x.current]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(n.Label,{htmlFor:"new-password",children:"New Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(t.Input,{id:"new-password",type:b.new?"text":"password",value:m.new,name:"new",placeholder:"Minimum 6 characters",onChange:v,className:x.new?"border-red-500 pr-10":"border-border"}),(0,r.jsx)("button",{type:"button",onClick:()=>k("new"),className:"absolute inset-y-0 right-3 flex items-center text-gray-500",children:b.new?(0,r.jsx)(j.EyeOff,{className:"w-4 h-4"}):(0,r.jsx)(f.Eye,{className:"w-4 h-4"})})]}),x.new&&(0,r.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,r.jsx)(w.TriangleAlert,{className:"h-3 w-3"})," ",x.new]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)(n.Label,{htmlFor:"confirm-password",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(t.Input,{id:"confirm-password",type:b.confirm?"text":"password",value:m.confirm,name:"confirm",placeholder:"Minimum 6 characters",onChange:v,className:x.confirm?"border-red-500 pr-10":"border-border"}),(0,r.jsx)("button",{type:"button",onClick:()=>k("confirm"),className:"absolute inset-y-0 right-3 flex items-center text-gray-500",children:b.confirm?(0,r.jsx)(j.EyeOff,{className:"w-4 h-4"}):(0,r.jsx)(f.Eye,{className:"w-4 h-4"})})]}),x.confirm&&(0,r.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,r.jsx)(w.TriangleAlert,{className:"h-3 w-3"})," ",x.confirm]})]}),(0,r.jsxs)("div",{className:"flex gap-2 justify-end pt-2",children:[(0,r.jsx)(i.Button,{variant:"outline",onClick:()=>{u(!1),N()},children:"Cancel"}),(0,r.jsx)(i.Button,{disabled:a.loading,onClick:C,children:a.loading?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Spinner,{}),"Changing..."]}):"Change Password"})]})]})]})]})}),b=(0,u.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),y=()=>(0,r.jsxs)(a.Card,{className:"bg-amber-50",children:[(0,r.jsxs)(a.CardHeader,{className:"flex items-center gap-2",children:[(0,r.jsx)(b,{className:"text-primary size-4"}),(0,r.jsx)(a.CardTitle,{className:"text-primary",children:"Security"})]}),(0,r.jsxs)(a.CardContent,{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.Label,{className:"mb-1",children:"Password"}),(0,r.jsx)(t.Input,{type:"password",value:"************",disabled:!0})]}),(0,r.jsx)(g,{}),(0,r.jsx)(x.Separator,{}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set a new password to protect your account."})})]})]});function v(){let[e,a]=(0,s.useState)(!0),[t,n]=(0,s.useState)(!0);return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)(h,{}),(0,r.jsx)(y,{})]})}e.s(["default",()=>v],67628)}]);