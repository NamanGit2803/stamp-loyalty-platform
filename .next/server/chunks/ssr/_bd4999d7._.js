module.exports=[77994,a=>{"use strict";var b=a.i(72131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},77156,a=>{"use strict";let b=(0,a.i(70106).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>g,"CardFooter",()=>h,"CardHeader",()=>e,"CardTitle",()=>f])},88466,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(70106).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var d=a.i(97895);function e({className:a,...e}){return(0,b.jsx)(c,{role:"status","aria-label":"Loading",className:(0,d.cn)("size-4 animate-spin",a),...e})}a.s(["Spinner",()=>e],88466)},83604,a=>{"use strict";let b=(0,a.i(70106).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["default",()=>b])},41379,18685,a=>{"use strict";let b=(0,a.i(70106).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],41379);var c=a.i(83604);a.s(["TriangleAlert",()=>c.default],18685)},80281,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7554),e=a.i(70121),f=a.i(50104),g=a.i(25152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:k,defaultChecked:l,required:m,disabled:o,value:p="on",onCheckedChange:q,form:r,...u}=a,[v,w]=c.useState(null),x=(0,e.useComposedRefs)(f,a=>w(a)),y=c.useRef(!1),z=!v||r||!!v.closest("form"),[A=!1,B]=(0,g.useControllableState)({prop:k,defaultProp:l,onChange:q});return(0,b.jsxs)(n,{scope:h,checked:A,disabled:o,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":t(A),"data-disabled":o?"":void 0,disabled:o,value:p,...u,ref:x,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{B(a=>!a),z&&(y.current=a.isPropagationStopped(),y.current||a.stopPropagation())})}),z&&(0,b.jsx)(s,{control:v,bubbles:!y.current,name:i,value:p,checked:A,required:m,disabled:o,form:r,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,j=c.useRef(null),k=(0,h.usePrevious)(e),l=(0,i.useSize)(d);return c.useEffect(()=>{let a=j.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...a.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function t(a){return a?"checked":"unchecked"}var u=a.i(97895);function v({className:a,...c}){return(0,b.jsx)(p,{"data-slot":"switch",className:(0,u.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...c,children:(0,b.jsx)(r,{"data-slot":"switch-thumb",className:"bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0"})})}a.s(["Switch",()=>v],80281)},92931,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(3130),e=a.i(5522),f=a.i(17171),g=a.i(40695);a.i(80281),a.i(12180);var h=a.i(12530),i=a.i(73140),j=a.i(88466),k=a.i(23292),l=a.i(70106);let m=(0,l.default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),n=(0,h.observer)(()=>{let{shopStore:a,userStore:h}=(0,i.useStore)(),[l,n]=(0,c.useState)("");(0,c.useEffect)(()=>{h.user?.name&&n(h.user.name)},[h.user?.name]);let o=async()=>{await h.updateProfile({name:l}),h.error?k.toast.error(h.error):k.toast.success("Name has been updated successfully.")};return(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{className:"flex gap-2 items-center",children:[(0,b.jsx)(m,{className:"text-primary size-5"}),(0,b.jsx)(d.CardTitle,{className:"text-primary",children:"Profile"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{className:"mb-1",children:"Name"}),(0,b.jsx)(e.Input,{value:l,onChange:a=>n(a.target.value)})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{className:"mb-1",children:"Email"}),(0,b.jsx)(e.Input,{value:h.user?.email??"",disabled:!0}),(0,b.jsx)("p",{className:"text-sm mt-1 text-muted-foreground",children:"Email cannot be changed"})]}),(0,b.jsx)(g.Button,{disabled:h.loading||h.user?.name===l,onClick:o,className:"w-[20%] hover:cursor-pointer",children:h.loading?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Spinner,{})," Saving Changes..."]}):"Save Changes"})]})]})});var o=a.i(7379),p=a.i(65733),q=a.i(77156),r=a.i(41379),s=a.i(18685);let t=(0,h.observer)(()=>{let{shopStore:a,userStore:d}=(0,i.useStore)(),[h,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)({current:"",new:"",confirm:""}),[o,t]=(0,c.useState)({}),[u,v]=(0,c.useState)({current:!1,new:!1,confirm:!1}),w=a=>{let{name:b,value:c}=a.target;n(a=>({...a,[b]:c})),o[b]&&t(a=>({...a,[b]:""}))},x=()=>{n({current:"",new:"",confirm:""}),v({current:!1,new:!1,confirm:!1})},y=async()=>{let a,b=(a={},m.current.trim()||(a.current="Current password is required"),m.new.trim()||(a.new="New password is required"),m.confirm.trim()||(a.confirm="Confirm password is required"),m.new.trim().length<6&&(a.new="Password must be 6+ characters"),m.confirm.trim().length>0&&m.new!==m.confirm&&(a.confirm="New and confirm passwords do not match."),a);Object.keys(b).length>0?t(b):(await d.updateProfile({currentPassword:m.current,newPassword:m.new}),d.error?k.toast.error(d.error):(k.toast.success("Password updated successfully."),x(),l(!1)))},z=a=>{v(b=>({...b,[a]:!b[a]}))};return(0,b.jsxs)(p.Dialog,{open:h,onOpenChange:a=>{l(a),a||x()},children:[(0,b.jsx)(p.DialogTrigger,{asChild:!0,children:(0,b.jsx)(g.Button,{size:"sm",variant:"outline",children:"Change Password"})}),(0,b.jsxs)(p.DialogContent,{children:[(0,b.jsxs)(p.DialogHeader,{children:[(0,b.jsx)(p.DialogTitle,{children:"Change Password"}),(0,b.jsx)(p.DialogDescription,{children:"Enter your current password and set a new one"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(f.Label,{htmlFor:"current-password",children:"Current Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Input,{id:"current-password",type:u.current?"text":"password",value:m.current,name:"current",onChange:w,className:o.current?"border-red-500 pr-10":"border-border"}),(0,b.jsx)("button",{type:"button",onClick:()=>z("current"),className:"absolute inset-y-0 right-3 flex items-center text-gray-500",children:u.current?(0,b.jsx)(r.EyeOff,{className:"w-4 h-4"}):(0,b.jsx)(q.Eye,{className:"w-4 h-4"})})]}),o.current&&(0,b.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,b.jsx)(s.TriangleAlert,{className:"h-3 w-3"})," ",o.current]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(f.Label,{htmlFor:"new-password",children:"New Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Input,{id:"new-password",type:u.new?"text":"password",value:m.new,name:"new",placeholder:"Minimum 6 characters",onChange:w,className:o.new?"border-red-500 pr-10":"border-border"}),(0,b.jsx)("button",{type:"button",onClick:()=>z("new"),className:"absolute inset-y-0 right-3 flex items-center text-gray-500",children:u.new?(0,b.jsx)(r.EyeOff,{className:"w-4 h-4"}):(0,b.jsx)(q.Eye,{className:"w-4 h-4"})})]}),o.new&&(0,b.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,b.jsx)(s.TriangleAlert,{className:"h-3 w-3"})," ",o.new]})]}),(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)(f.Label,{htmlFor:"confirm-password",children:"Confirm Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e.Input,{id:"confirm-password",type:u.confirm?"text":"password",value:m.confirm,name:"confirm",placeholder:"Minimum 6 characters",onChange:w,className:o.confirm?"border-red-500 pr-10":"border-border"}),(0,b.jsx)("button",{type:"button",onClick:()=>z("confirm"),className:"absolute inset-y-0 right-3 flex items-center text-gray-500",children:u.confirm?(0,b.jsx)(r.EyeOff,{className:"w-4 h-4"}):(0,b.jsx)(q.Eye,{className:"w-4 h-4"})})]}),o.confirm&&(0,b.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,b.jsx)(s.TriangleAlert,{className:"h-3 w-3"})," ",o.confirm]})]}),(0,b.jsxs)("div",{className:"flex gap-2 justify-end pt-2",children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>{l(!1),x()},children:"Cancel"}),(0,b.jsx)(g.Button,{disabled:d.loading,onClick:y,children:d.loading?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.Spinner,{}),"Changing..."]}):"Change Password"})]})]})]})]})}),u=(0,l.default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),v=()=>(0,b.jsxs)(d.Card,{className:"bg-amber-50",children:[(0,b.jsxs)(d.CardHeader,{className:"flex items-center gap-2",children:[(0,b.jsx)(u,{className:"text-primary size-4"}),(0,b.jsx)(d.CardTitle,{className:"text-primary",children:"Security"})]}),(0,b.jsxs)(d.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(f.Label,{className:"mb-1",children:"Password"}),(0,b.jsx)(e.Input,{type:"password",value:"************",disabled:!0})]}),(0,b.jsx)(t,{}),(0,b.jsx)(o.Separator,{}),(0,b.jsx)("div",{children:(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set a new password to protect your account."})})]})]});function w(){let[a,d]=(0,c.useState)(!0),[e,f]=(0,c.useState)(!0);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(n,{}),(0,b.jsx)(v,{})]})}a.s(["default",()=>w],92931)}];

//# sourceMappingURL=_bd4999d7._.js.map