module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},46058,(a,b,c)=>{"use strict";function d(a){if("function"!=typeof WeakMap)return null;var b=new WeakMap,c=new WeakMap;return(d=function(a){return a?c:b})(a)}c._=function(a,b){if(!b&&a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var c=d(b);if(c&&c.has(a))return c.get(a);var e={__proto__:null},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var g in a)if("default"!==g&&Object.prototype.hasOwnProperty.call(a,g)){var h=f?Object.getOwnPropertyDescriptor(a,g):null;h&&(h.get||h.set)?Object.defineProperty(e,g,h):e[g]=a[g]}return e.default=a,c&&c.set(a,e),e}},39118,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d={DEFAULT_SEGMENT_KEY:function(){return l},PAGE_SEGMENT_KEY:function(){return k},addSearchParamsIfPageSegment:function(){return i},computeSelectedLayoutSegment:function(){return j},getSegmentValue:function(){return f},getSelectedLayoutSegmentPath:function(){return function a(b,c,d=!0,e=[]){let g;if(d)g=b[1][c];else{let a=b[1];g=a.children??Object.values(a)[0]}if(!g)return e;let h=f(g[0]);return!h||h.startsWith(k)?e:(e.push(h),a(g,c,!1,e))}},isGroupSegment:function(){return g},isParallelRouteSegment:function(){return h}};for(var e in d)Object.defineProperty(c,e,{enumerable:!0,get:d[e]});function f(a){return Array.isArray(a)?a[1]:a}function g(a){return"("===a[0]&&a.endsWith(")")}function h(a){return a.startsWith("@")&&"@children"!==a}function i(a,b){if(a.includes(k)){let a=JSON.stringify(b);return"{}"!==a?k+"?"+a:k}return a}function j(a,b){if(!a||0===a.length)return null;let c="children"===b?a[0]:a[a.length-1];return c===l?null:c}let k="__PAGE__",l="__DEFAULT__"},54427,(a,b,c)=>{"use strict";function d(){let a,b,c=new Promise((c,d)=>{a=c,b=d});return{resolve:a,reject:b,promise:c}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"createPromiseWithResolvers",{enumerable:!0,get:function(){return d}})},3130,a=>{"use strict";var b=a.i(87924),c=a.i(97895);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-footer",className:(0,c.cn)("flex items-center px-6 [.border-t]:pt-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>g,"CardFooter",()=>h,"CardHeader",()=>e,"CardTitle",()=>f])},88466,a=>{"use strict";var b=a.i(87924);let c=(0,a.i(70106).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var d=a.i(97895);function e({className:a,...e}){return(0,b.jsx)(c,{role:"status","aria-label":"Loading",className:(0,d.cn)("size-4 animate-spin",a),...e})}a.s(["Spinner",()=>e],88466)},83604,a=>{"use strict";let b=(0,a.i(70106).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["default",()=>b])},77156,a=>{"use strict";let b=(0,a.i(70106).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>b],77156)},41379,18685,a=>{"use strict";let b=(0,a.i(70106).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>b],41379);var c=a.i(83604);a.s(["TriangleAlert",()=>c.default],18685)},12404,a=>{"use strict";var b=a.i(87924);a.i(72131),a.s(["default",0,({imageSrc:a,title:c,subTitle:d})=>(0,b.jsxs)("div",{className:"hidden md:flex w-3/5 flex-col justify-center p-10",children:[(0,b.jsxs)("div",{className:"mb-5",children:[c&&(0,b.jsx)("h2",{className:"text-3xl font-bold text-secondary leading-tight",children:c}),d&&(0,b.jsx)("p",{className:"text-muted-foreground text-lg mt-3",children:d})]}),(0,b.jsx)("div",{className:"w-full h-full bg-cover bg-center rounded-xl",style:{backgroundImage:`url(${a})`}})]})])},89142,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(40695),f=a.i(5522),g=a.i(3130),h=a.i(12404),i=a.i(50944);a.i(12180);var j=a.i(12530),k=a.i(73140),l=a.i(77156),m=a.i(41379),n=a.i(18685),o=a.i(88466),p=a.i(23292),q=a.i(65733),r=a.i(17171),s=a.i(70106);let t=(0,s.default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]),u=(0,s.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),v=(0,j.observer)(()=>{let{userStore:a}=(0,k.useStore)(),[d,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,l]=(0,c.useState)(!1),[m,o]=(0,c.useState)(!1),s=async b=>{(b.preventDefault(),d)?d.trim().length>0&&!d.includes("@")?i("Invalid email!"):(o(!0),await a.forgotPassword(d),o(!1),a.error)?p.toast.error(a.error):l(!0):i("Email is required.")};return(0,b.jsxs)(q.Dialog,{onOpenChange:a=>{a||(l(!1),g(""),i(""))},children:[(0,b.jsx)(q.DialogTrigger,{asChild:!0,children:(0,b.jsx)("button",{className:"text-sm text-primary hover:underline hover:cursor-pointer",children:"Forgot password?"})}),j?(0,b.jsxs)(q.DialogContent,{className:"max-w-sm rounded-2xl p-6",children:[(0,b.jsxs)(q.DialogHeader,{className:"text-center space-y-3",children:[(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("div",{className:"bg-green-100 text-green-600 p-3 rounded-full",children:(0,b.jsx)(u,{size:32})})}),(0,b.jsx)(q.DialogTitle,{className:"text-2xl font-semibold text-center text-primary",children:"Check your email"}),(0,b.jsxs)(q.DialogDescription,{className:"text-muted-foreground text-center leading-relaxed",children:["If an account with ",(0,b.jsx)("span",{className:"font-medium text-primary",children:d})," ","exists, we’ve sent a password reset link. Please check your inbox and spam folder."]})]}),(0,b.jsx)("div",{className:"mt-4 flex justify-center",children:(0,b.jsx)(q.DialogClose,{asChild:!0,children:(0,b.jsx)(e.Button,{className:"px-6",onClick:()=>l(!1),children:"Okay"})})})]}):(0,b.jsxs)(q.DialogContent,{className:"sm:max-w-[420px] rounded-2xl",children:[(0,b.jsxs)(q.DialogHeader,{className:"space-y-1",children:[(0,b.jsx)(q.DialogTitle,{className:"text-2xl text-primary font-semibold text-center",children:"Reset your password"}),(0,b.jsx)(q.DialogDescription,{className:"text-center text-gray-500",children:"Enter your email and we’ll send you a reset link"})]}),(0,b.jsx)("div",{className:"flex justify-center",children:(0,b.jsx)("span",{className:"logo-font text-primary text-lg font-semibold",children:"Stampi"})}),(0,b.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(r.Label,{htmlFor:"email",children:"Email address"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(t,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(f.Input,{id:"email",type:"email",placeholder:"you@company.com",className:"pl-10",value:d,onChange:a=>(g(a.target.value),i(""))})]}),h&&(0,b.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,b.jsx)(n.TriangleAlert,{className:"h-3 w-3"})," ",h]})]}),(0,b.jsx)(e.Button,{onClick:s,disabled:!d||m,className:"w-full rounded-lg",children:m?"Sending...":"Send reset link"})]}),(0,b.jsx)("p",{className:"text-xs text-center text-muted-foreground mt-4",children:"You’ll receive an email if an account exists with this address."})]})]})}),w=(0,j.observer)(()=>{let{userStore:a,shopStore:h}=(0,k.useStore)(),j=(0,i.useRouter)(),[q,r]=(0,c.useState)({email:"",password:""}),[s,t]=(0,c.useState)({}),[u,w]=(0,c.useState)(!1),x=a=>{let{name:b,value:c}=a.target;r(a=>({...a,[b]:c})),s[b]&&t(a=>({...a,[b]:""}))},y=async b=>{let c;b.preventDefault();let d=(c={},q.email.trim()||(c.email="Email is required"),q.email.length>0&&!q.email.includes("@")&&(c.email="Invalid email"),q.password||(c.password="Password is required"),c);if(Object.keys(d).length>0)return void t(d);if(await a.login(q),a.error){if("Shop not registered."===a.error){localStorage.setItem("signupStep",2),p.toast.error(a.error,{description:"Please registerd your shop.",action:{label:"Register",onClick:()=>j.push("/signup")}});return}if("Incorrect password."===a.error){p.toast.error(a.error),r(a=>({...a,password:""}));return}if("User not found."==a.error){localStorage.setItem("signupStep",1),p.toast.error(a.error,{description:"Please signup.",action:{label:"Register",onClick:()=>j.push("/signup")}});return}p.toast.error(a.error);return}if(await h.loadInitial(),null==h.shop){localStorage.setItem("signupStep",2),p.toast.error(a.error,{description:"Please registerd your shop.",action:{label:"Register",onClick:()=>j.push("/signup")}});return}p.toast.success("Login successfully"),setTimeout(()=>{j.push(`/shop/${a.shopId}`)},1e3),r({email:"",password:""})};return(0,b.jsx)("div",{className:"flex w-full md:w-2/5 items-center justify-center p-4 h-screen overflow-y-hidden",children:(0,b.jsx)(g.Card,{className:"w-full max-w-md shadow-lg border-border/50 p-0 h-[90%] overflow-y-auto no-scrollbar",children:(0,b.jsxs)("div",{className:"p-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-secondary mb-2",children:"Welcome Back"}),(0,b.jsxs)("p",{className:"text-muted-foreground mb-7",children:["Sign in to your ",(0,b.jsx)(d.default,{href:"/",className:"logo-font text-primary",children:"Stampi"})," account"]}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary mb-2",children:"Email Address"}),(0,b.jsx)(f.Input,{type:"email",name:"email",placeholder:"your@email.com",value:q.email,onChange:x,className:s.email?"border-red-500":"border-border"}),s.email&&(0,b.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,b.jsx)(n.TriangleAlert,{className:"h-3 w-3"}),"  ",s.email]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-primary mb-2",children:"Password"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.Input,{type:u?"text":"password",name:"password",placeholder:"Enter your password",value:q.password,onChange:x,className:s.password?"border-red-500 pr-10":"border-border pr-10"}),(0,b.jsx)("button",{type:"button",onClick:()=>w(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800",children:u?(0,b.jsx)(m.EyeOff,{size:18}):(0,b.jsx)(l.Eye,{size:18})})]}),s.password&&(0,b.jsxs)("p",{className:"text-red-600 text-xs mt-1 flex gap-2 items-center",children:[(0,b.jsx)(n.TriangleAlert,{className:"h-3 w-3"})," ",s.password]})]}),(0,b.jsx)(v,{}),(0,b.jsx)(e.Button,{type:"submit",className:"w-full mt-5 hover:cursor-pointer",disabled:a.loading,children:a.loading?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.Spinner,{}),"Signing in..."]}):"Sign In"})]}),(0,b.jsxs)("p",{className:"text-center text-sm text-gray-600 mt-6",children:["Don't have an account?"," ",(0,b.jsx)("span",{onClick:()=>{localStorage.setItem("signupStep",1),setTimeout(()=>{j.push("/signup")},500)},className:"text-primary font-semibold hover:underline hover:cursor-pointer",children:"Sign up"})]})]})})})});function x(){return(0,b.jsxs)("div",{className:"min-h-screen w-full flex bg-custom-gradient",children:[(0,b.jsx)(h.default,{imageSrc:"/plan2.png",title:"Secure login. Seamless experience."}),(0,b.jsx)(w,{})]})}a.s(["default",()=>x],89142)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__20402a2d._.js.map