{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 94, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/lib/resend.js"],"sourcesContent":["import { Resend } from \"resend\";\r\n\r\nexport const resend = new Resend(process.env.RESEND_API_KEY);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,SAAS,IAAI,oJAAM,CAAC,QAAQ,GAAG,CAAC,cAAc"}},
    {"offset": {"line": 105, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/lib/sendEmail.js"],"sourcesContent":["import { resend } from \"./resend\";\r\n\r\nexport async function sendEmail({ to, subject, html }) {\r\n  try {\r\n    return await resend.emails.send({\r\n      from: \"Stampi <no-reply@stampi.in>\",\r\n      to,\r\n      subject,\r\n      html,\r\n    });\r\n  } catch (error) {\r\n    console.error(\"Email error:\", error);\r\n    throw error;\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,UAAU,EAAE,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE;IACnD,IAAI;QACF,OAAO,MAAM,yHAAM,CAAC,MAAM,CAAC,IAAI,CAAC;YAC9B,MAAM;YACN;YACA;YACA;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB;QAC9B,MAAM;IACR;AACF"}},
    {"offset": {"line": 128, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/lib/templates/baseEmail.js"],"sourcesContent":["export function baseEmailTemplate({ title, content }) {\r\n    return `\r\n  <!DOCTYPE html>\r\n  <html>\r\n    <body style=\"margin:0;font-family:Arial;background:#f6f9fc;padding:20px\">\r\n      <table width=\"100%\" cellpadding=\"0\" cellspacing=\"0\">\r\n        <tr>\r\n          <td align=\"center\">\r\n            <table width=\"600\" style=\"background:#ffffff;border-radius:8px;padding:24px\">\r\n              <tr>\r\n                <td style=\"text-align:center;font-size:24px;font-weight:bold;color:#6247AA\">\r\n                  Stampi\r\n                </td>\r\n              </tr>\r\n\r\n              <tr><td style=\"padding:20px 0;font-size:18px;font-weight:bold\">\r\n                ${title}\r\n              </td></tr>\r\n\r\n              <tr><td style=\"font-size:15px;color:#444\">\r\n                ${content}\r\n              </td></tr>\r\n\r\n              <tr><td style=\"padding-top:30px;font-size:12px;color:#999;text-align:center\">\r\n                Â© ${new Date().getFullYear()} Stampi Â· All rights reserved\r\n              </td></tr>\r\n            </table>\r\n          </td>\r\n        </tr>\r\n      </table>\r\n    </body>\r\n  </html>\r\n  `;\r\n}\r\n"],"names":[],"mappings":";;;;AAAO,SAAS,kBAAkB,EAAE,KAAK,EAAE,OAAO,EAAE;IAChD,OAAO,CAAC;;;;;;;;;;;;;;;gBAeI,EAAE,MAAM;;;;gBAIR,EAAE,QAAQ;;;;kBAIR,EAAE,IAAI,OAAO,WAAW,GAAG;;;;;;;;EAQ3C,CAAC;AACH"}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/lib/templates/shopWelcomeEmail.js"],"sourcesContent":["import { baseEmailTemplate } from \"./baseEmail\";\r\n\r\nexport function ShopWelcomeEmailTemplate({ name, shopName, trialEndDate, dashboardUrl }) {\r\n    return baseEmailTemplate({\r\n        title: \"Your Shop is Live! ðŸŽ‰\",\r\n        content: `\r\n      <p>Hi <strong>${name}</strong>,</p>\r\n\r\n      <p>\r\n        Welcome to <strong>Stampi</strong>! Your shop \r\n        <strong>${shopName}</strong> has been successfully created.\r\n      </p>\r\n\r\n      <p>\r\n        Your <strong>15-days free trial</strong> has officially started.\r\n        During this period, you can explore:\r\n      </p>\r\n\r\n      <ul style=\"padding-left:18px; line-height:1.6;\">\r\n        <li>Customer visit tracking</li>\r\n        <li>Reward & stamp management</li>\r\n        <li>Automatic reward notifications</li>\r\n        <li>Analytics & insights</li>\r\n      </ul>\r\n\r\n      <p style=\"margin-top:20px;\">\r\n        Your trial will end on: <strong>${trialEndDate}</strong>\r\n      </p>\r\n\r\n      <a href=\"${dashboardUrl}\"\r\n         style=\"\r\n           display:inline-block;\r\n           padding:12px 24px;\r\n           background:#c9a7ff;\r\n           color:#000;\r\n           border-radius:8px;\r\n           text-decoration:none;\r\n           font-weight:600;\r\n           margin:25px 0;\r\n         \">\r\n        Go to Dashboard\r\n      </a>\r\n\r\n      <p>\r\n        If you need help, reply to this email anytime â€” weâ€™re here for you.\r\n      </p>\r\n    `,\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,SAAS,yBAAyB,EAAE,IAAI,EAAE,QAAQ,EAAE,YAAY,EAAE,YAAY,EAAE;IACnF,OAAO,IAAA,oJAAiB,EAAC;QACrB,OAAO;QACP,SAAS,CAAC;oBACE,EAAE,KAAK;;;;gBAIX,EAAE,SAAS;;;;;;;;;;;;;;;;wCAgBa,EAAE,aAAa;;;eAGxC,EAAE,aAAa;;;;;;;;;;;;;;;;;IAiB1B,CAAC;IACD;AACJ"}},
    {"offset": {"line": 227, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/lib/email/sendWelcomeEmail.js"],"sourcesContent":["import { sendEmail } from \"../sendEmail\";\r\nimport { ShopWelcomeEmailTemplate } from \"../templates/shopWelcomeEmail\";\r\n\r\nexport async function sendWelcomeEmail({ to, name, shopName, trialEndDate, dashboardUrl }) {\r\n    return sendEmail({\r\n        to,\r\n        subject: \"Welcome to Stampi! Your Shop Is Live ðŸŽ‰\",\r\n        html: ShopWelcomeEmailTemplate({\r\n            name,\r\n            shopName,\r\n            trialEndDate,\r\n            dashboardUrl,\r\n        }),\r\n    });\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,eAAe,iBAAiB,EAAE,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,YAAY,EAAE,YAAY,EAAE;IACrF,OAAO,IAAA,+HAAS,EAAC;QACb;QACA,SAAS;QACT,MAAM,IAAA,kKAAwB,EAAC;YAC3B;YACA;YACA;YACA;QACJ;IACJ;AACJ"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/app/api/email/sendWelcomeEmail/route.js"],"sourcesContent":["export const dynamic = \"force-dynamic\";\r\nexport const runtime = \"nodejs\";\r\n\r\nimport { NextResponse } from \"next/server\";\r\nimport { sendWelcomeEmail } from \"@/lib/email/sendWelcomeEmail\";\r\n\r\nexport async function POST(req) {\r\n  try {\r\n    const { email, name, shopName, trialEndDate, dashboardUrl } = await req.json();\r\n\r\n    // SEND WELCOME EMAIL (server-side)\r\n    await sendWelcomeEmail({\r\n      to: email,\r\n      name,\r\n      shopName,\r\n      trialEndDate,\r\n      dashboardUrl,\r\n    });\r\n\r\n    return NextResponse.json({ success: true });\r\n\r\n  } catch (err) {\r\n    console.error(\"[send-welcome error]\", err);\r\n    return NextResponse.json(\r\n      { error: \"Server error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAGA;AACA;AAJO,MAAM,UAAU;AAChB,MAAM,UAAU;;;AAKhB,eAAe,KAAK,GAAG;IAC5B,IAAI;QACF,MAAM,EAAE,KAAK,EAAE,IAAI,EAAE,QAAQ,EAAE,YAAY,EAAE,YAAY,EAAE,GAAG,MAAM,IAAI,IAAI;QAE5E,mCAAmC;QACnC,MAAM,IAAA,sJAAgB,EAAC;YACrB,IAAI;YACJ;YACA;YACA;YACA;QACF;QAEA,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAK;IAE3C,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAe,GACxB;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}