{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/components/customer/customerShopTable.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/customer/customerShopTable.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/customer/customerShopTable.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6S,GAC1U,2EACA","ignoreList":[0]}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/components/customer/customerShopTable.jsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/customer/customerShopTable.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/customer/customerShopTable.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyR,GACtT,uDACA","ignoreList":[0]}},
    {"offset": {"line": 42, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///E:/Project%20Files/Earning-model/stamp-card-project/stamp-loyalty-platform/app/customer/%5BcustomerId%5D/page.jsx"],"sourcesContent":["import Image from \"next/image\";\r\nimport { SearchAlert, Smartphone } from 'lucide-react';\r\nimport CustomerShopsTable from \"@/components/customer/customerShopTable\";\r\n\r\nconst CustomerDetailsPage = async ({ params }) => {\r\n    const { customerId } = await params;\r\n    const { default: prisma } = await import(\"@/lib/prisma\");\r\n\r\n    // fetch customer \r\n    const customer = await prisma.customer.findUnique({\r\n        where: { id: customerId },\r\n        select: { phone: true },\r\n    });\r\n\r\n    if (!customer) {\r\n        return (\r\n            <div className=\" h-dvh w-full flex flex-col items-center justify-center gap-4\">\r\n                <Image\r\n                    src=\"/not-found.jpg\"\r\n                    alt=\"Customer Not Found\"\r\n                    width={400}\r\n                    height={800}\r\n                    priority\r\n                />\r\n\r\n                <p className=\"text-lg font-medium flex gap-1 items-center\">\r\n                    <SearchAlert className=\"text-error-text-1 size-5\" /> Customer not found\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // fetch customer details  \r\n    const customerShopDetails = await prisma.customer.findMany({\r\n        where: {\r\n            phone: customer.phone,\r\n        },\r\n        include: {\r\n            shop: {\r\n                select: {\r\n                    shopName: true,\r\n                    targetStamps: true,\r\n                    reward: true,\r\n                },\r\n            }\r\n        },\r\n    });\r\n\r\n    const sortedDetails = customerShopDetails.sort((a, b) => {\r\n        const aRemaining = a.shop.targetStamps - a.stampCount;\r\n        const bRemaining = b.shop.targetStamps - b.stampCount;\r\n\r\n        return aRemaining - bRemaining; // smaller remaining first\r\n    });\r\n\r\n\r\n    const user = customerShopDetails[0]\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-custom-gradient p-4 space-y-6\">\r\n            {/* Header Section */}\r\n            <div className=\"overflow-hidden rounded-3xl p-6 shadow-lg bg-linear-to-br from-primary via-secondary to-extra/60 text-muted\">\r\n                {/* Branding */}\r\n                <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                        <span className='logo-font'>{process.env.NEXT_PUBLIC_SITE_NAME ?? \"site_name\"}</span>\r\n\r\n                        <h1 className=\"text-2xl font-bold mt-1 capitalize\">\r\n                            {user.name}\r\n                        </h1>\r\n                    </div>\r\n\r\n                    {/* Avatar */}\r\n                    <div className=\"w-14 h-14 rounded-2xl bg-white/10 backdrop-blur flex items-center justify-center text-lg font-semibold\">\r\n                        {user.name?.charAt(0)}\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Decorative Stamp Badge */}\r\n                <div className=\"mt-6 inline-flex items-center gap-2 bg-white/10 px-4 py-2 rounded-full text-xs font-medium\">\r\n                    ‚≠ê Member Phone: +91 {user.phone}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Shops Table */}\r\n            <CustomerShopsTable shops={sortedDetails} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CustomerDetailsPage;\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEA,MAAM,sBAAsB,OAAO,EAAE,MAAM,EAAE;IACzC,MAAM,EAAE,UAAU,EAAE,GAAG,MAAM;IAC7B,MAAM,EAAE,SAAS,MAAM,EAAE,GAAG;IAE5B,kBAAkB;IAClB,MAAM,WAAW,MAAM,OAAO,QAAQ,CAAC,UAAU,CAAC;QAC9C,OAAO;YAAE,IAAI;QAAW;QACxB,QAAQ;YAAE,OAAO;QAAK;IAC1B;IAEA,IAAI,CAAC,UAAU;QACX,qBACI,8OAAC;YAAI,WAAU;;8BACX,8OAAC,wIAAK;oBACF,KAAI;oBACJ,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,QAAQ;;;;;;8BAGZ,8OAAC;oBAAE,WAAU;;sCACT,8OAAC,mOAAW;4BAAC,WAAU;;;;;;wBAA6B;;;;;;;;;;;;;IAIpE;IAEA,2BAA2B;IAC3B,MAAM,sBAAsB,MAAM,OAAO,QAAQ,CAAC,QAAQ,CAAC;QACvD,OAAO;YACH,OAAO,SAAS,KAAK;QACzB;QACA,SAAS;YACL,MAAM;gBACF,QAAQ;oBACJ,UAAU;oBACV,cAAc;oBACd,QAAQ;gBACZ;YACJ;QACJ;IACJ;IAEA,MAAM,gBAAgB,oBAAoB,IAAI,CAAC,CAAC,GAAG;QAC/C,MAAM,aAAa,EAAE,IAAI,CAAC,YAAY,GAAG,EAAE,UAAU;QACrD,MAAM,aAAa,EAAE,IAAI,CAAC,YAAY,GAAG,EAAE,UAAU;QAErD,OAAO,aAAa,YAAY,0BAA0B;IAC9D;IAGA,MAAM,OAAO,mBAAmB,CAAC,EAAE;IAEnC,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;;kCAEX,8OAAC;wBAAI,WAAU;;0CACX,8OAAC;;kDACG,8OAAC;wCAAK,WAAU;kDAAa,8CAAqC;;;;;;kDAElE,8OAAC;wCAAG,WAAU;kDACT,KAAK,IAAI;;;;;;;;;;;;0CAKlB,8OAAC;gCAAI,WAAU;0CACV,KAAK,IAAI,EAAE,OAAO;;;;;;;;;;;;kCAK3B,8OAAC;wBAAI,WAAU;;4BAA6F;4BACnF,KAAK,KAAK;;;;;;;;;;;;;0BAKvC,8OAAC,uJAAkB;gBAAC,OAAO;;;;;;;;;;;;AAGvC;uCAEe"}}]
}